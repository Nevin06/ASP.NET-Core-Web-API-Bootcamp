 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}   [INF] User profile is available. Using 'C:\Users\Asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}   [INF] Now listening on: https://localhost:7289 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Now listening on: http://localhost:5186 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Content root path: C:\Users\Asus\source\repos\Courseproject\src\Courseproject.API {"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Request starting HTTP/2 GET https://localhost:7289/swagger/index.html - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUR:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HMP48NLNCAUR"}   [INF] Request finished HTTP/2 GET https://localhost:7289/swagger/index.html - - - 200 - text/html;charset=utf-8 331.5872ms {"ElapsedMilliseconds":331.5872,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUR:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HMP48NLNCAUR"}   [INF] Request starting HTTP/2 GET https://localhost:7289/_vs/browserLink - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUR:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HMP48NLNCAUR"}   [INF] Request starting HTTP/2 GET https://localhost:7289/_framework/aspnetcore-browser-refresh.js - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUR:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HMP48NLNCAUR"}   [INF] Request finished HTTP/2 GET https://localhost:7289/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 47.6050ms {"ElapsedMilliseconds":47.605,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":12004,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUR:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HMP48NLNCAUR"}   [INF] Request finished HTTP/2 GET https://localhost:7289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 128.1862ms {"ElapsedMilliseconds":128.1862,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUR:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HMP48NLNCAUR"}   [INF] Request starting HTTP/2 GET https://localhost:7289/swagger/v1/swagger.json - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUR:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HMP48NLNCAUR"}   [INF] Request finished HTTP/2 GET https://localhost:7289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.8832ms {"ElapsedMilliseconds":140.8832,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUR:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HMP48NLNCAUR"}   [INF] Request starting HTTP/2 GET https://localhost:7289/Employee/Get - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/Employee/Get","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUS:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48NLNCAUS"}   [INF] Executing endpoint 'Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)' {"EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HMP48NLNCAUS:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48NLNCAUS"}   [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees(Courseproject.Common.Dtos.Employee.EmployeeFilter) on controller Courseproject.API.Controllers.EmployeeController (Courseproject.API). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"37588991-fe81-4d23-8692-f74e52747b79","ActionName":"Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)","RequestId":"0HMP48NLNCAUS:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48NLNCAUS"}   [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."AddressId", "e"."FirstName", "e"."JobId", "e"."LastName", "e"."ProfilePhotoPath", "a"."Id", "a"."City", "a"."Email", "a"."Phone", "a"."Street", "a"."Zip", "j"."Id", "j"."Description", "j"."Name", "t0"."EmployeesId", "t0"."TeamsId", "t0"."Id", "t0"."Name"
FROM "Employees" AS "e"
INNER JOIN "Addresses" AS "a" ON "e"."AddressId" = "a"."Id"
INNER JOIN "Jobs" AS "j" ON "e"."JobId" = "j"."Id"
LEFT JOIN (
    SELECT "e0"."EmployeesId", "e0"."TeamsId", "t"."Id", "t"."Name"
    FROM "EmployeeTeam" AS "e0"
    INNER JOIN "Teams" AS "t" ON "e0"."TeamsId" = "t"."Id"
) AS "t0" ON "e"."Id" = "t0"."EmployeesId"
ORDER BY "e"."Id", "a"."Id", "j"."Id", "t0"."EmployeesId", "t0"."TeamsId" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"37588991-fe81-4d23-8692-f74e52747b79","ActionName":"Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)","RequestId":"0HMP48NLNCAUS:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48NLNCAUS"}   [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Courseproject.Common.Dtos.Employee.EmployeeList, Courseproject.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"37588991-fe81-4d23-8692-f74e52747b79","ActionName":"Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)","RequestId":"0HMP48NLNCAUS:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48NLNCAUS"}   [INF] Executed action Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API) in 948.5688ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HMP48NLNCAUS:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48NLNCAUS"}   [INF] Executed endpoint 'Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HMP48NLNCAUS:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48NLNCAUS"}   [INF] HTTP GET /Employee/Get responded 200 in 1256.8789 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMP48NLNCAUS:00000001","ConnectionId":"0HMP48NLNCAUS"}   [INF] Request finished HTTP/2 GET https://localhost:7289/Employee/Get - - - 200 - application/json;+charset=utf-8 1274.9963ms {"ElapsedMilliseconds":1274.9963,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/Employee/Get","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUS:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48NLNCAUS"}   [INF] Request starting HTTP/2 PUT https://localhost:7289/Employee/Update application/json 84 {"Protocol":"HTTP/2","Method":"PUT","ContentType":"application/json","ContentLength":84,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/Employee/Update","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [INF] Executing endpoint 'Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)' {"EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEmployee(Courseproject.Common.Dtos.Employee.EmployeeUpdate) on controller Courseproject.API.Controllers.EmployeeController (Courseproject.API). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"905d18dd-0ffe-4b37-b272-bc2257d3c9a8","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."AddressId", "e"."FirstName", "e"."JobId", "e"."LastName", "e"."ProfilePhotoPath"
FROM "Employees" AS "e"
WHERE "e"."Id" = @__id_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"905d18dd-0ffe-4b37-b272-bc2257d3c9a8","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."City", "a"."Email", "a"."Phone", "a"."Street", "a"."Zip"
FROM "Addresses" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"905d18dd-0ffe-4b37-b272-bc2257d3c9a8","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "j"."Id", "j"."Description", "j"."Name"
FROM "Jobs" AS "j"
WHERE "j"."Id" = @__id_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"905d18dd-0ffe-4b37-b272-bc2257d3c9a8","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [INF] Executed action Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API) in 326.3195ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [INF] Executed endpoint 'Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [ERR] HTTP PUT /Employee/Update responded 500 in 337.3987 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMP48NLNCAUT:00000001","ConnectionId":"0HMP48NLNCAUT"}  System.InvalidOperationException: The instance of entity type 'Employee' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Attach(TEntity entity)
   at Courseproject.Infrastructure.GenericRepository`1.Update(T entity) in C:\Users\Asus\source\repos\Courseproject\src\Courseproject.Infrastructure\GenericRepository.cs:line 79
   at Courseproject.Business.Services.EmployeeService.UpdateEmployeeAsync(EmployeeUpdate employeeUpdate) in C:\Users\Asus\source\repos\Courseproject\src\Courseproject.Business\Services\EmployeeService.cs:line 153
   at Courseproject.API.Controllers.EmployeeController.UpdateEmployee(EmployeeUpdate employeeUpdate) in C:\Users\Asus\source\repos\Courseproject\src\Courseproject.API\Controllers\EmployeeController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
 [INF] Request finished HTTP/2 PUT https://localhost:7289/Employee/Update application/json 84 - 500 - application/problem+json 480.6306ms {"ElapsedMilliseconds":480.6306,"StatusCode":500,"ContentType":"application/problem+json","ContentLength":null,"Protocol":"HTTP/2","Method":"PUT","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/Employee/Update","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48NLNCAUT:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48NLNCAUT"}   [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}   [INF] User profile is available. Using 'C:\Users\Asus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}   [INF] Now listening on: https://localhost:7289 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Now listening on: http://localhost:5186 {"EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Application started. Press Ctrl+C to shut down. {"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Hosting environment: Development {"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Content root path: C:\Users\Asus\source\repos\Courseproject\src\Courseproject.API {"SourceContext":"Microsoft.Hosting.Lifetime"}   [INF] Request starting HTTP/2 GET https://localhost:7289/swagger/index.html - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA632:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HMP48RBJA632"}   [INF] Request finished HTTP/2 GET https://localhost:7289/swagger/index.html - - - 200 - text/html;charset=utf-8 376.0408ms {"ElapsedMilliseconds":376.0408,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA632:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HMP48RBJA632"}   [INF] Request starting HTTP/2 GET https://localhost:7289/_vs/browserLink - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA632:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HMP48RBJA632"}   [INF] Request starting HTTP/2 GET https://localhost:7289/_framework/aspnetcore-browser-refresh.js - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA632:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HMP48RBJA632"}   [INF] Request finished HTTP/2 GET https://localhost:7289/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 19.9111ms {"ElapsedMilliseconds":19.9111,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":12004,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA632:00000003","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HMP48RBJA632"}   [INF] Request finished HTTP/2 GET https://localhost:7289/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.4195ms {"ElapsedMilliseconds":68.4195,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA632:00000005","RequestPath":"/_vs/browserLink","ConnectionId":"0HMP48RBJA632"}   [INF] Request starting HTTP/2 GET https://localhost:7289/swagger/v1/swagger.json - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA632:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HMP48RBJA632"}   [INF] Request finished HTTP/2 GET https://localhost:7289/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.4917ms {"ElapsedMilliseconds":155.4917,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA632:00000007","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HMP48RBJA632"}   [INF] Request starting HTTP/2 PUT https://localhost:7289/Employee/Update application/json 84 {"Protocol":"HTTP/2","Method":"PUT","ContentType":"application/json","ContentLength":84,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/Employee/Update","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Executing endpoint 'Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)' {"EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEmployee(Courseproject.Common.Dtos.Employee.EmployeeUpdate) on controller Courseproject.API.Controllers.EmployeeController (Courseproject.API). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1edfe069-998a-4f6a-a238-c1e0ac54e08b","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."AddressId", "e"."FirstName", "e"."JobId", "e"."LastName", "e"."ProfilePhotoPath"
FROM "Employees" AS "e"
WHERE "e"."Id" = @__id_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1edfe069-998a-4f6a-a238-c1e0ac54e08b","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."City", "a"."Email", "a"."Phone", "a"."Street", "a"."Zip"
FROM "Addresses" AS "a"
WHERE "a"."Id" = @__id_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1edfe069-998a-4f6a-a238-c1e0ac54e08b","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "j"."Id", "j"."Description", "j"."Name"
FROM "Jobs" AS "j"
WHERE "j"."Id" = @__id_0
LIMIT 2 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1edfe069-998a-4f6a-a238-c1e0ac54e08b","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 1), @p2='?' (DbType = Int32), @p3='?' (Size = 1), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Employees" SET "AddressId" = @p0, "FirstName" = @p1, "JobId" = @p2, "LastName" = @p3, "ProfilePhotoPath" = @p4
WHERE "Id" = @p5
RETURNING 1; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1edfe069-998a-4f6a-a238-c1e0ac54e08b","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Executing StatusCodeResult, setting HTTP status code 200 {"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"1edfe069-998a-4f6a-a238-c1e0ac54e08b","ActionName":"Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Executed action Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API) in 1044.7907ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Executed endpoint 'Courseproject.API.Controllers.EmployeeController.UpdateEmployee (Courseproject.API)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] HTTP PUT /Employee/Update responded 200 in 1293.3495 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMP48RBJA633:00000001","ConnectionId":"0HMP48RBJA633"}   [INF] Request finished HTTP/2 PUT https://localhost:7289/Employee/Update application/json 84 - 200 0 - 1317.9403ms {"ElapsedMilliseconds":1317.9403,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/2","Method":"PUT","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/Employee/Update","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA633:00000001","RequestPath":"/Employee/Update","ConnectionId":"0HMP48RBJA633"}   [INF] Request starting HTTP/2 GET https://localhost:7289/Employee/Get - - {"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/Employee/Get","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA634:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48RBJA634"}   [INF] Executing endpoint 'Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)' {"EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HMP48RBJA634:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48RBJA634"}   [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployees(Courseproject.Common.Dtos.Employee.EmployeeFilter) on controller Courseproject.API.Controllers.EmployeeController (Courseproject.API). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c531de6b-eef0-4634-a36d-7d8d05ac658c","ActionName":"Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)","RequestId":"0HMP48RBJA634:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48RBJA634"}   [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "e"."Id", "e"."AddressId", "e"."FirstName", "e"."JobId", "e"."LastName", "e"."ProfilePhotoPath", "a"."Id", "a"."City", "a"."Email", "a"."Phone", "a"."Street", "a"."Zip", "j"."Id", "j"."Description", "j"."Name", "t0"."EmployeesId", "t0"."TeamsId", "t0"."Id", "t0"."Name"
FROM "Employees" AS "e"
INNER JOIN "Addresses" AS "a" ON "e"."AddressId" = "a"."Id"
INNER JOIN "Jobs" AS "j" ON "e"."JobId" = "j"."Id"
LEFT JOIN (
    SELECT "e0"."EmployeesId", "e0"."TeamsId", "t"."Id", "t"."Name"
    FROM "EmployeeTeam" AS "e0"
    INNER JOIN "Teams" AS "t" ON "e0"."TeamsId" = "t"."Id"
) AS "t0" ON "e"."Id" = "t0"."EmployeesId"
ORDER BY "e"."Id", "a"."Id", "j"."Id", "t0"."EmployeesId", "t0"."TeamsId" {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c531de6b-eef0-4634-a36d-7d8d05ac658c","ActionName":"Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)","RequestId":"0HMP48RBJA634:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48RBJA634"}   [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Courseproject.Common.Dtos.Employee.EmployeeList, Courseproject.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c531de6b-eef0-4634-a36d-7d8d05ac658c","ActionName":"Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)","RequestId":"0HMP48RBJA634:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48RBJA634"}   [INF] Executed action Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API) in 252.536ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HMP48RBJA634:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48RBJA634"}   [INF] Executed endpoint 'Courseproject.API.Controllers.EmployeeController.GetEmployees (Courseproject.API)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HMP48RBJA634:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48RBJA634"}   [INF] HTTP GET /Employee/Get responded 200 in 272.3485 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HMP48RBJA634:00000001","ConnectionId":"0HMP48RBJA634"}   [INF] Request finished HTTP/2 GET https://localhost:7289/Employee/Get - - - 200 - application/json;+charset=utf-8 275.4722ms {"ElapsedMilliseconds":275.4722,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7289","PathBase":"","Path":"/Employee/Get","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HMP48RBJA634:00000001","RequestPath":"/Employee/Get","ConnectionId":"0HMP48RBJA634"}  